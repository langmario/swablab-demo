---
import Container from './Container.astro';

export interface Props {
  title?: string;
}
---

<article class='ribbon full-width mx-auto max-w-4xl text-center'>
  <Container>
    <h1 class='font-headings text-lg font-bold'>{Astro.props.title}</h1>
    <div>
      <slot />
    </div>
  </Container>
</article>

<style>
  .ribbon {
    --s: 1.5rem; /* the ribbon size */
    --d: 0.8rem; /* the depth */
    --c: 0.8rem; /* the cutout part */
    --content-padding: 1rem;

    padding: var(--content-padding) calc(var(--s) + 1rem) calc(var(--d) + var(--content-padding));
    background:
      conic-gradient(at left var(--s) bottom var(--d), #0000 25%, #0008 0 37.5%, #0004 0) 0 /50% 100% no-repeat,
      conic-gradient(at right var(--s) bottom var(--d), #0004 62.5%, #0008 0 75%, #0000 0) 100%/50% 100% no-repeat;
    clip-path: polygon(
      0 var(--d),
      var(--s) var(--d),
      var(--s) 0,
      calc(100% - var(--s)) 0,
      calc(100% - var(--s)) var(--d),
      100% var(--d),
      calc(100% - var(--c)) calc(50% + var(--d) / 2),
      100% 100%,
      calc(100% - var(--s) - var(--d)) 100%,
      calc(100% - var(--s) - var(--d)) calc(100% - var(--d)),
      calc(var(--s) + var(--d)) calc(100% - var(--d)),
      calc(var(--s) + var(--d)) 100%,
      0 100%,
      var(--c) calc(50% + var(--d) / 2)
    );
    background-color: var(--color-brand-800);
    color: var(--color-brand-50);
  }
</style>
